Don't run Bundler as root. Bundler can ask for sudo if it is needed, and
D, [2015-12-08T12:46:56.914657 #18654] DEBUG -- : excon.response {:body=>"{"access":{"token":{"issued_at":"2015-12-08T12:46:56.832969","expires":"2015-12-09T12:46:56Z","id":"f71ab62d41644108a018310931865d73","tenant":{"description":"","enabled":true,"id":"ab7c42f3cb064b13999d63da9ff9bdd0","name":"the-name"}},"serviceCatalog":[{"endpoints":[{"adminURL":"https://my.openstack.domain.com:8778/v1/ab7c42f3cb064b13999d63da9ff9bdd0","region":"RegionOne","internalURL":"https://my.openstack.domain.com:8778/v1/ab7c42f3cb064b13999d63da9ff9bdd0","id":"1238b8d065b04ba582ab1e6ed41cf865","publicURL":"https://my.openstack.domain.com:8778/v1/ab7c42f3cb064b13999d63da9ff9bdd0"}],"endpoints_links":[],"type":"volume","name":"cinder"},{"endpoints":[{"adminURL":"http://my.openstack.domain.com:9292","region":"RegionOne","internalURL":"http://my.openstack.domain.com:9292","id":"123f7ccb37214522b7ffc49867600b40","publicURL":"http://my.openstack.domain.com:9292"}],"endpoints_links":[],"type":"image","name":"glance"}],"user":{"username":"my-bosh-user","roles_links":[],"id":"123927eb6b11464b8161c1fc2e80132d","roles":[{"name":"_member_"},{"name":"service"}],"name":"my-bosh-user"},"metadata":{"is_admin":0,"roles":["1232ff9ee4384b1894a90878d3e92bab","1233f2fbbf11434eb957a031e7af52d6"]}}}", :headers=>{"Vary"=>"X-Auth-Token", "Content-Type"=>"application/json", "Date"=>"Tue, 08 Dec 2015 12:46:56 GMT", "Connection"=>"close"}, :status=>200, :status_line=>"HTTP/1.1 200 OK\r\n", :reason_phrase=>"OK", :remote_ip=>"173.247.104.14", :local_port=>56637, :local_address=>"10.254.1.58"}
D, [2015-12-08T12:47:22.481040 #18654] DEBUG -- : excon.request {:chunk_size=>1048576, :ciphers=>"HIGH:!SSLv2:!aNULL:!eNULL:!3DES", :connect_timeout=>600, :debug_request=>false, :debug_response=>true, :headers=>{"User-Agent"=>"fog/1.34.0 fog-core/1.32.1", "Content-Type"=>"application/json", "Accept"=>"application/json", "X-Auth-Token"=>"93ff99607bf642d5877c7a14829ac48a", "Host"=>"my.openstack.domain.com:8778"}, :idempotent=>false, :instrumentor_name=>"excon", :middlewares=>[Excon::Middleware::ResponseParser, Excon::Middleware::Expects, Excon::Middleware::Idempotent, Excon::Middleware::Instrumentor, Excon::Middleware::Mock], :mock=>false, :nonblock=>true, :omit_default_port=>false, :persistent=>false, :read_timeout=>120, :retry_limit=>4, :ssl_verify_peer=>true, :tcp_nodelay=>false, :thread_safe_sockets=>true, :uri_parser=>URI, :versions=>"excon/0.45.4 (x86_64-linux) ruby/2.1.2", :write_timeout=>120, :host=>"my.openstack.domain.com", :hostname=>"my.openstack.domain.com", :path=>"/v1/ab7c42f3cb064b13999d63da9ff9bdd0/volumes", :port=>8778, :query=>nil, :scheme=>"https", :instrumentor=>Bosh::OpenStackCloud::ExconLoggingInstrumentor, :expects=>[200], :method=>"GET", :retries_remaining=>4, :connection=>#<Excon::Connection:7f90d7d56f50 @data={:chunk_size=>1048576, :ciphers=>"HIGH:!SSLv2:!aNULL:!eNULL:!3DES", :connect_timeout=>600, :debug_request=>false, :debug_response=>true, :headers=>{"User-Agent"=>"fog/1.34.0 fog-core/1.32.1"}, :idempotent=>false, :instrumentor_name=>"excon", :middlewares=>[Excon::Middleware::ResponseParser, Excon::Middleware::Expects, Excon::Middleware::Idempotent, Excon::Middleware::Instrumentor, Excon::Middleware::Mock], :mock=>false, :nonblock=>true, :omit_default_port=>false, :persistent=>false, :read_timeout=>120, :retry_limit=>4, :ssl_verify_peer=>true, :tcp_nodelay=>false, :thread_safe_sockets=>true, :uri_parser=>URI, :versions=>"excon/0.45.4 (x86_64-linux) ruby/2.1.2", :write_timeout=>120, :host=>"my.openstack.domain.com", :hostname=>"my.openstack.domain.com", :path=>"", :port=>8778, :query=>nil, :scheme=>"https", :instrumentor=>Bosh::OpenStackCloud::ExconLoggingInstrumentor} @socket_key="https://my.openstack.domain.com:8778">, :stack=>#<Excon::Middleware::ResponseParser:0x007f90d7d55f38 @stack=#<Excon::Middleware::Expects:0x007f90d7d54070 @stack=#<Excon::Middleware::Idempotent:0x007f90d7d540c0 @stack=#<Excon::Middleware::Instrumentor:0x007f90d7d540e8 @stack=#<Excon::Middleware::Mock:0x007f90d7d54110 @stack=#<Excon::Connection:7f90d7d56f50 @data={:chunk_size=>1048576, :ciphers=>"HIGH:!SSLv2:!aNULL:!eNULL:!3DES", :connect_timeout=>600, :debug_request=>false, :debug_response=>true, :headers=>{"User-Agent"=>"fog/1.34.0 fog-core/1.32.1"}, :idempotent=>false, :instrumentor_name=>"excon", :middlewares=>[Excon::Middleware::ResponseParser, Excon::Middleware::Expects, Excon::Middleware::Idempotent, Excon::Middleware::Instrumentor, Excon::Middleware::Mock], :mock=>false, :nonblock=>true, :omit_default_port=>false, :persistent=>false, :read_timeout=>120, :retry_limit=>4, :ssl_verify_peer=>true, :tcp_nodelay=>false, :thread_safe_sockets=>true, :uri_parser=>URI, :versions=>"excon/0.45.4 (x86_64-linux) ruby/2.1.2", :write_timeout=>120, :host=>"my.openstack.domain.com", :hostname=>"my.openstack.domain.com", :path=>"", :port=>8778, :query=>nil, :scheme=>"https", :instrumentor=>Bosh::OpenStackCloud::ExconLoggingInstrumentor} @socket_key="https://my.openstack.domain.com:8778">>>>>>}
D, [2015-12-08T12:47:22.481040 #18654] DEBUG -- : excon.request {:chunk_size=>1048576, :ciphers=>"HIGH:!SSLv2:!aNULL:!eNULL:!3DES", :connect_timeout=>600, :debug_request=>false, :debug_response=>true, :headers=>{"User-Agent"=>"fog/1.34.0 fog-core/1.32.1", "Content-Type"=>"application/json", "Accept"=>"application/json", "X-Auth-Token"=>"93ff99607bf642d5877c7a14829ac48a", "Host"=>"my.openstack.domain.com:8778"}, :idempotent=>false, :instrumentor_name=>"excon", :middlewares=>[Excon::Middleware::ResponseParser, Excon::Middleware::Expects, Excon::Middleware::Idempotent, Excon::Middleware::Instrumentor, Excon::Middleware::Mock], :mock=>false, :nonblock=>true, :omit_default_port=>false, :persistent=>false, :read_timeout=>120, :retry_limit=>4, :ssl_verify_peer=>true, :tcp_nodelay=>false, :thread_safe_sockets=>true, :uri_parser=>URI, :versions=>"excon/0.45.4 (x86_64-linux) ruby/2.1.2", :write_timeout=>120, :host=>"my.openstack.domain.com", :hostname=>"my.openstack.domain.com", :path=>"/v1/ab7c42f3cb064b13999d63da9ff9bdd0/volumes", :port=>8778, :query=>nil, :scheme=>"https", :instrumentor=>Bosh::OpenStackCloud::ExconLoggingInstrumentor, :expects=>[200], :method=>"DELETE", :retries_remaining=>4, :connection=>#<Excon::Connection:7f90d7d56f50 @data={:chunk_size=>1048576, :ciphers=>"HIGH:!SSLv2:!aNULL:!eNULL:!3DES", :connect_timeout=>600, :debug_request=>false, :debug_response=>true, :headers=>{"User-Agent"=>"fog/1.34.0 fog-core/1.32.1"}, :idempotent=>false, :instrumentor_name=>"excon", :middlewares=>[Excon::Middleware::ResponseParser, Excon::Middleware::Expects, Excon::Middleware::Idempotent, Excon::Middleware::Instrumentor, Excon::Middleware::Mock], :mock=>false, :nonblock=>true, :omit_default_port=>false, :persistent=>false, :read_timeout=>120, :retry_limit=>4, :ssl_verify_peer=>true, :tcp_nodelay=>false, :thread_safe_sockets=>true, :uri_parser=>URI, :versions=>"excon/0.45.4 (x86_64-linux) ruby/2.1.2", :write_timeout=>120, :host=>"my.openstack.domain.com", :hostname=>"my.openstack.domain.com", :path=>"", :port=>8778, :query=>nil, :scheme=>"https", :instrumentor=>Bosh::OpenStackCloud::ExconLoggingInstrumentor} @socket_key="https://my.openstack.domain.com:8778">, :stack=>#<Excon::Middleware::ResponseParser:0x007f90d7d55f38 @stack=#<Excon::Middleware::Expects:0x007f90d7d54070 @stack=#<Excon::Middleware::Idempotent:0x007f90d7d540c0 @stack=#<Excon::Middleware::Instrumentor:0x007f90d7d540e8 @stack=#<Excon::Middleware::Mock:0x007f90d7d54110 @stack=#<Excon::Connection:7f90d7d56f50 @data={:chunk_size=>1048576, :ciphers=>"HIGH:!SSLv2:!aNULL:!eNULL:!3DES", :connect_timeout=>600, :debug_request=>false, :debug_response=>true, :headers=>{"User-Agent"=>"fog/1.34.0 fog-core/1.32.1"}, :idempotent=>false, :instrumentor_name=>"excon", :middlewares=>[Excon::Middleware::ResponseParser, Excon::Middleware::Expects, Excon::Middleware::Idempotent, Excon::Middleware::Instrumentor, Excon::Middleware::Mock], :mock=>false, :nonblock=>true, :omit_default_port=>false, :persistent=>false, :read_timeout=>120, :retry_limit=>4, :ssl_verify_peer=>true, :tcp_nodelay=>false, :thread_safe_sockets=>true, :uri_parser=>URI, :versions=>"excon/0.45.4 (x86_64-linux) ruby/2.1.2", :write_timeout=>120, :host=>"my.openstack.domain.com", :hostname=>"my.openstack.domain.com", :path=>"", :port=>8778, :query=>nil, :scheme=>"https", :instrumentor=>Bosh::OpenStackCloud::ExconLoggingInstrumentor} @socket_key="https://my.openstack.domain.com:8778">>>>>>}
D, [2015-12-08T12:47:22.481040 #18654] DEBUG -- : excon.request {:chunk_size=>1048576, :ciphers=>"HIGH:!SSLv2:!aNULL:!eNULL:!3DES", :connect_timeout=>600, :debug_request=>false, :debug_response=>true, :headers=>{"User-Agent"=>"fog/1.34.0 fog-core/1.32.1", "Content-Type"=>"application/json", "Accept"=>"application/json", "X-Auth-Token"=>"93ff99607bf642d5877c7a14829ac48a", "Host"=>"my.openstack.domain.com:8778"}, :idempotent=>false, :instrumentor_name=>"excon", :middlewares=>[Excon::Middleware::ResponseParser, Excon::Middleware::Expects, Excon::Middleware::Idempotent, Excon::Middleware::Instrumentor, Excon::Middleware::Mock], :mock=>false, :nonblock=>true, :omit_default_port=>false, :persistent=>false, :read_timeout=>120, :retry_limit=>4, :ssl_verify_peer=>true, :tcp_nodelay=>false, :thread_safe_sockets=>true, :uri_parser=>URI, :versions=>"excon/0.45.4 (x86_64-linux) ruby/2.1.2", :write_timeout=>120, :host=>"my.openstack.domain.com", :hostname=>"my.openstack.domain.com", :path=>"/v1/ab7c42f3cb064b13999d63da9ff9bdd0/volumes", :port=>8778, :query=>nil, :scheme=>"https", :instrumentor=>Bosh::OpenStackCloud::ExconLoggingInstrumentor, :body=>"{\"volume\":{\"display_name\":\"volume-2a8f18b9-5031-4894-85ce-ddeea45bbdce\",\"display_description\":\"\",\"size\":2,\"btest\":\"<test>\"}}", :expects=>[200, 202], :method=>"POST", :retries_remaining=>4, :connection=>#<Excon::Connection:7f90d7d56f50 @data={:chunk_size=>1048576, :ciphers=>"HIGH:!SSLv2:!aNULL:!eNULL:!3DES", :connect_timeout=>600, :debug_request=>false, :debug_response=>true, :headers=>{"User-Agent"=>"fog/1.34.0 fog-core/1.32.1"}, :idempotent=>false, :instrumentor_name=>"excon", :middlewares=>[Excon::Middleware::ResponseParser, Excon::Middleware::Expects, Excon::Middleware::Idempotent, Excon::Middleware::Instrumentor, Excon::Middleware::Mock], :mock=>false, :nonblock=>true, :omit_default_port=>false, :persistent=>false, :read_timeout=>120, :retry_limit=>4, :ssl_verify_peer=>true, :tcp_nodelay=>false, :thread_safe_sockets=>true, :uri_parser=>URI, :versions=>"excon/0.45.4 (x86_64-linux) ruby/2.1.2", :write_timeout=>120, :host=>"my.openstack.domain.com", :hostname=>"my.openstack.domain.com", :path=>"", :port=>8778, :query=>nil, :scheme=>"https", :instrumentor=>Bosh::OpenStackCloud::ExconLoggingInstrumentor} @socket_key="https://my.openstack.domain.com:8778">, :stack=>#<Excon::Middleware::ResponseParser:0x007f90d7d55f38 @stack=#<Excon::Middleware::Expects:0x007f90d7d54070 @stack=#<Excon::Middleware::Idempotent:0x007f90d7d540c0 @stack=#<Excon::Middleware::Instrumentor:0x007f90d7d540e8 @stack=#<Excon::Middleware::Mock:0x007f90d7d54110 @stack=#<Excon::Connection:7f90d7d56f50 @data={:chunk_size=>1048576, :ciphers=>"HIGH:!SSLv2:!aNULL:!eNULL:!3DES", :connect_timeout=>600, :debug_request=>false, :debug_response=>true, :headers=>{"User-Agent"=>"fog/1.34.0 fog-core/1.32.1"}, :idempotent=>false, :instrumentor_name=>"excon", :middlewares=>[Excon::Middleware::ResponseParser, Excon::Middleware::Expects, Excon::Middleware::Idempotent, Excon::Middleware::Instrumentor, Excon::Middleware::Mock], :mock=>false, :nonblock=>true, :omit_default_port=>false, :persistent=>false, :read_timeout=>120, :retry_limit=>4, :ssl_verify_peer=>true, :tcp_nodelay=>false, :thread_safe_sockets=>true, :uri_parser=>URI, :versions=>"excon/0.45.4 (x86_64-linux) ruby/2.1.2", :write_timeout=>120, :host=>"my.openstack.domain.com", :hostname=>"my.openstack.domain.com", :path=>"", :port=>8778, :query=>nil, :scheme=>"https", :instrumentor=>Bosh::OpenStackCloud::ExconLoggingInstrumentor} @socket_key="https://my.openstack.domain.com:8778">>>>>>}
D, [2015-12-08T12:47:22.481040 #18654] DEBUG -- : excon.request {:chunk_size=>1048576, :ciphers=>"HIGH:!SSLv2:!aNULL:!eNULL:!3DES", :connect_timeout=>600, :debug_request=>false, :debug_response=>true, :headers=>{"User-Agent"=>"fog/1.34.0 fog-core/1.32.1", "Content-Type"=>"application/json", "Accept"=>"application/json", "X-Auth-Token"=>"93ff99607bf642d5877c7a14829ac48a", "Host"=>"my.openstack.domain.com:8778"}, :idempotent=>false, :instrumentor_name=>"excon", :middlewares=>[Excon::Middleware::ResponseParser, Excon::Middleware::Expects, Excon::Middleware::Idempotent, Excon::Middleware::Instrumentor, Excon::Middleware::Mock], :mock=>false, :nonblock=>true, :omit_default_port=>false, :persistent=>false, :read_timeout=>120, :retry_limit=>4, :ssl_verify_peer=>true, :tcp_nodelay=>false, :thread_safe_sockets=>true, :uri_parser=>URI, :versions=>"excon/0.45.4 (x86_64-linux) ruby/2.1.2", :write_timeout=>120, :host=>"my.openstack.domain.com", :hostname=>"my.openstack.domain.com", :path=>"/v1/ab7c42f3cb064b13999d63da9ff9bdd0/volumes", :port=>8778, :query=>nil, :scheme=>"https", :instrumentor=>Bosh::OpenStackCloud::ExconLoggingInstrumentor, :body=>"{\"volume\":{\"display_name\":\"volume-2a8f18b9-5031-4894-85ce-ddeea45bbdce\",\"display_description\":\"\",\"size\":2,\"atest\":\"<test>\"}}", :expects=>[200, 202], :method=>"POST", :retries_remaining=>4, :connection=>#<Excon::Connection:7f90d7d56f50 @data={:chunk_size=>1048576, :ciphers=>"HIGH:!SSLv2:!aNULL:!eNULL:!3DES", :connect_timeout=>600, :debug_request=>false, :debug_response=>true, :headers=>{"User-Agent"=>"fog/1.34.0 fog-core/1.32.1"}, :idempotent=>false, :instrumentor_name=>"excon", :middlewares=>[Excon::Middleware::ResponseParser, Excon::Middleware::Expects, Excon::Middleware::Idempotent, Excon::Middleware::Instrumentor, Excon::Middleware::Mock], :mock=>false, :nonblock=>true, :omit_default_port=>false, :persistent=>false, :read_timeout=>120, :retry_limit=>4, :ssl_verify_peer=>true, :tcp_nodelay=>false, :thread_safe_sockets=>true, :uri_parser=>URI, :versions=>"excon/0.45.4 (x86_64-linux) ruby/2.1.2", :write_timeout=>120, :host=>"my.openstack.domain.com", :hostname=>"my.openstack.domain.com", :path=>"", :port=>8778, :query=>nil, :scheme=>"https", :instrumentor=>Bosh::OpenStackCloud::ExconLoggingInstrumentor} @socket_key="https://my.openstack.domain.com:8778">, :stack=>#<Excon::Middleware::ResponseParser:0x007f90d7d55f38 @stack=#<Excon::Middleware::Expects:0x007f90d7d54070 @stack=#<Excon::Middleware::Idempotent:0x007f90d7d540c0 @stack=#<Excon::Middleware::Instrumentor:0x007f90d7d540e8 @stack=#<Excon::Middleware::Mock:0x007f90d7d54110 @stack=#<Excon::Connection:7f90d7d56f50 @data={:chunk_size=>1048576, :ciphers=>"HIGH:!SSLv2:!aNULL:!eNULL:!3DES", :connect_timeout=>600, :debug_request=>false, :debug_response=>true, :headers=>{"User-Agent"=>"fog/1.34.0 fog-core/1.32.1"}, :idempotent=>false, :instrumentor_name=>"excon", :middlewares=>[Excon::Middleware::ResponseParser, Excon::Middleware::Expects, Excon::Middleware::Idempotent, Excon::Middleware::Instrumentor, Excon::Middleware::Mock], :mock=>false, :nonblock=>true, :omit_default_port=>false, :persistent=>false, :read_timeout=>120, :retry_limit=>4, :ssl_verify_peer=>true, :tcp_nodelay=>false, :thread_safe_sockets=>true, :uri_parser=>URI, :versions=>"excon/0.45.4 (x86_64-linux) ruby/2.1.2", :write_timeout=>120, :host=>"my.openstack.domain.com", :hostname=>"my.openstack.domain.com", :path=>"", :port=>8778, :query=>nil, :scheme=>"https", :instrumentor=>Bosh::OpenStackCloud::ExconLoggingInstrumentor} @socket_key="https://my.openstack.domain.com:8778">>>>>>}